KOLAB_META_START
TARGET=@imap_confdir@/cyrus.conf
PERMISSIONS=0640
OWNERSHIP=@imap_usr@:@imap_grp@
KOLAB_META_END
# (c) 2003 Tassilo Erlewein <tassilo.erlewein@erfrakon.de>
# (c) 2003 Martin Konold <martin.konold@erfrakon.de>
# (c) 2003 Achim Frank <achim.frank@erfrakon.de>
# This program is Free Software under the GNU General Public License (>=v2).
# Read the file COPYING that comes with this packages for details.

# this file is automatically written by the Kolab config backend
# manual additions are lost unless made to the template in the Kolab config directory


START {
  # do not delete this entry!
  recover	cmd="ctl_cyrusdb -r"

  # this is only necessary if using idled for IMAP IDLE
  #idled		cmd="idled"

  # Initial mupdate syncronisation
  #mupdatepush   cmd="ctl_mboxlist -m"
}

# UNIX sockets start with a slash and are put into /openpkg/var/imapd/sockets
SERVICES {
  @@@cyrus-imap@@@
  @@@cyrus-imaps@@@
  @@@cyrus-pop3@@@
  @@@cyrus-pop3s@@@
  @@@cyrus-sieve@@@

#@@@if is-master@@@
#  mupdate       cmd="mupdate -m" listen=3905 prefork=1
#@@@endif@@@

  # LMTP is required for delivery
  lmtpunix	cmd="lmtpd" listen="@emailserver_socket@" prefork=0
  lmtp          cmd="lmtpd -a" listen="127.0.0.1:2003"

  # this is only necessary if using notifications
  notify	cmd="notifyd" listen="@imap_notify_socket@" proto="udp" prefork=1
}

EVENTS {
  # this is required
  checkpoint	cmd="ctl_cyrusdb -c" period=30

  # this is only necessary if using duplicate delivery suppression
  delprune	cmd="cyr_expire -E 3" period=1440

  # this is only necessary if caching TLS sessions
  tlsprune	cmd="tls_prune" period=1440
}
